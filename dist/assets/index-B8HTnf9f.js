import{b as n,j as e,A as H,R as T,T as O,I as S,u as z,w as B,x as V,t as E,v as F,D as A,Q as L,M as U}from"./index-Bpu-ZP8V.js";import{B as C}from"./index-B5psXmxu.js";import{b as X,c as P,d as R,D as G,a as K}from"./index-DOw9Vza5.js";import{A as Q}from"./index-CS8AJtqV.js";import{S as q}from"./index-BAGGOChB.js";import"./PhoneIcon-BpksOs-8.js";function J({title:r,titleId:c,...a},g){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:g,"aria-labelledby":c},a),r?n.createElement("title",{id:c},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}))}const Y=n.forwardRef(J);function Z({title:r,titleId:c,...a},g){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:g,"aria-labelledby":c},a),r?n.createElement("title",{id:c},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"}))}const _=n.forwardRef(Z);function ee({title:r,titleId:c,...a},g){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:g,"aria-labelledby":c},a),r?n.createElement("title",{id:c},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"}))}const D=n.forwardRef(ee);function ae({title:r,titleId:c,...a},g){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:g,"aria-labelledby":c},a),r?n.createElement("title",{id:c},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}))}const M=n.forwardRef(ae);function se({title:r,titleId:c,...a},g){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:g,"aria-labelledby":c},a),r?n.createElement("title",{id:c},r):null,n.createElement("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"}))}const $=n.forwardRef(se),I=r=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-10 h-[50px] w-full animate-pulse rounded-md bg-gray-200"}),e.jsx("div",{className:"mt-4 h-[50px] w-full animate-pulse rounded-md bg-gray-200"}),e.jsx("div",{className:"mt-4 h-[50px] w-full animate-pulse rounded-md bg-gray-200"}),e.jsx("div",{className:"mt-4 h-[50px] w-full animate-pulse rounded-md bg-gray-200"}),e.jsx("div",{className:"mt-4 h-[50px] w-full animate-pulse rounded-md bg-gray-200"}),e.jsx("div",{className:"mt-4 h-[50px] w-full animate-pulse rounded-md bg-gray-200"}),e.jsx("div",{className:"mt-4 h-[50px] w-full animate-pulse rounded-md bg-gray-200"}),e.jsx("div",{className:"mt-4 h-[50px] w-full animate-pulse rounded-md bg-gray-200"}),e.jsx("div",{className:"mt-4 h-[50px] w-full animate-pulse rounded-md bg-gray-200"})]}),W=r=>{const c=n.useRef(),{name:a,label:g,placeholder:t="",options:l,optionSelected:f,onSelect:u,renderOption:b,error:x=""}=r;return e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("p",{className:"mb-1 mr-1 text-sm font-bold text-gray-600",children:g}),e.jsx("div",{className:"max-h-[200px]",children:e.jsx(X,{MenuProps:{style:{maxHeight:400}},ref:c,name:a,placeholder:t,value:f,style:{width:"100%",height:40,borderWidth:0,borderColor:"transparent",background:"#f3f4f6",borderRadius:7,maxHeight:"200px",...r.customStyles},renderValue:m=>e.jsx("div",{className:"flex h-full items-center",children:e.jsx("p",{className:"items-center text-sm text-gray-900",children:m})}),sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0},height:"40px",maxHeight:"200px"},children:b?b(l):l==null?void 0:l.map((m,w)=>e.jsx(H,{value:m,onClick:()=>u(m),children:m},w.toString()))})}),x&&e.jsx("p",{className:"mt-1 text-xs font-semibold text-red-500",children:x})]})},te=({onClose:r,open:c,category:a,onOpenCustomFields:g,onUpdateFields:t})=>{const[l,f]=n.useState([]),[u,b]=n.useState(!1),[x,m]=n.useState("");n.useEffect(()=>{f((a==null?void 0:a.properties)||[])},[a==null?void 0:a.properties]),n.useEffect(()=>{a!=null&&a.name&&m(a==null?void 0:a.name)},[a==null?void 0:a.name]);const w=T.useRef(null),p=T.useRef(null),j=s=>{let d=[...l];d.splice(s,1),f(d)},h=()=>{let s=[...l];s.push({name:" ",displayName:"",type:"string",options:[]}),f(s)};return e.jsx(e.Fragment,{children:e.jsx(P,{onClose:r,open:c,className:"rounded-lg",maxWidth:"lg",fullWidth:!0,children:u?e.jsx(R,{className:"max-h-[800px]",children:e.jsx(I,{})}):e.jsx(R,{className:"max-h-[800px]",children:e.jsxs("div",{className:"flex flex-col gap-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"mb-2 text-2xl font-bold text-gray-600",children:"Thêm danh mục"}),e.jsx(O,{onClick:r,title:"Đóng",children:e.jsx($,{className:"h-8 w-8 cursor-pointer rounded-full p-1 hover:bg-gray-200"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-md mb-2 font-semibold text-gray-600",children:"Tên danh mục"}),e.jsx("input",{placeholder:"Nhập tên danh mục",title:"Tên danh mục",defaultValue:a==null?void 0:a.name,value:x,onChange:s=>m(s.target.value),className:"border-1 h-[40px] w-full rounded-lg bg-gray-100 px-4 py-1 font-semibold text-gray-600 focus-within:border-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{className:"mt-4 flex flex-col",children:[e.jsx("p",{className:"text-md mb-2 font-semibold text-gray-600",children:"Các trường của danh mục"}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex w-full items-center justify-between gap-x-5 rounded-t-lg border border-gray-300 bg-white px-4 py-2 shadow-lg",children:[e.jsx("div",{className:"w-1/5",children:e.jsx("p",{className:"font-semibold text-gray-600",children:"Tên hiển thị"})}),e.jsx("div",{className:"w-1/5",children:e.jsx("p",{className:"font-semibold text-gray-600",children:"Tên trường"})}),e.jsx("div",{className:"w-1/5",children:e.jsx("p",{className:"font-semibold text-gray-600",children:"Kiểu dữ liệu"})}),e.jsx("div",{className:"w-1/5",children:e.jsx("p",{className:"font-semibold text-gray-600",children:"Các options của trường"})}),e.jsx("div",{className:"w-1/5",children:e.jsx("p",{className:"font-semibold text-gray-600",children:"Hành động"})})]},"header"),e.jsxs(e.Fragment,{children:[(l==null?void 0:l.length)>0&&(l==null?void 0:l.map((s,d)=>e.jsx("div",{children:e.jsxs("div",{className:"flex w-full items-center justify-between gap-x-5 border-b border-l border-r border-gray-300 bg-white px-4 py-2",children:[e.jsx("div",{className:"w-1/5",children:e.jsx("input",{ref:p,value:l[d].displayName,className:"rounded-lg border border-gray-300 py-1 pl-4",onChange:i=>{const o=i.target.value;f(y=>y.map((v,k)=>k===d?{...v,displayName:o}:v))}})}),e.jsx("div",{className:"w-1/5",children:e.jsx("input",{ref:w,value:l[d].name,className:"rounded-lg border border-gray-300 py-1 pl-4",onChange:i=>{const o=i.target.value;f(y=>y.map((v,k)=>k===d?{...v,name:o}:v))}})}),e.jsx("div",{className:"w-1/5",children:e.jsx(W,{placeholder:"Chọn trường",name:"type",label:"",options:["string","number","boolean"],optionSelected:l==null?void 0:l[d].type,onSelect:i=>{let o=[...l];o[d].type=i,f([...o])}})}),e.jsx("div",{className:"flex w-1/5 items-center",children:a.properties[d]?e.jsx(S,{title:"Xem hoặc chỉnh sửa",onClick:()=>g(s),children:e.jsx(_,{className:"h-4 w-4 font-bold text-gray-600"})}):e.jsx(e.Fragment,{})}),e.jsx("div",{className:"flex w-1/5 items-center",children:e.jsx(S,{title:"Xem hoặc chỉnh sửa",onClick:()=>j(d),children:e.jsx(M,{className:"h-4 w-4 font-bold text-gray-600"})})})]})}))),e.jsx("button",{className:"flex w-full items-center justify-center gap-x-5 rounded-b-lg border-b border-l border-r border-gray-300 bg-white px-4 py-2",children:e.jsx(S,{onClick:()=>h(),children:e.jsx(D,{className:"h-6 w-6 font-bold text-gray-600"})})})]}),e.jsxs("div",{className:"mt-8 flex w-full justify-between",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx(C,{variant:"secondary",title:"Đóng",onClick:()=>r()}),e.jsx(C,{title:"Cập nhật",onClick:()=>{t({...a,name:x,properties:l},()=>r())}})]})]})]})]})]})})})})},le=({onClose:r,open:c,options:a,onUpdateOptions:g})=>{const[t,l]=n.useState([]);n.useEffect(()=>{a&&(a==null?void 0:a.length)>0?l(a):l([])},[a]);const f=()=>{let x=[...t];x.push(""),l([...x])},u=()=>{g(t,()=>{}),r()},b=x=>{let m=[...t];m.splice(x,1),l(m)};return e.jsx(P,{onClose:r,open:c,className:"rounded-lg",maxWidth:"xs",fullWidth:!0,children:e.jsx(R,{className:"max-h-[900px]",children:e.jsxs("div",{className:"flex flex-col gap-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"mb-2 text-2xl font-bold text-gray-600",children:"Quản lý các trường của danh mục"}),e.jsx(O,{onClick:r,title:"Đóng",children:e.jsx($,{className:"h-8 w-8 cursor-pointer rounded-full p-1 hover:bg-gray-200"})})]}),e.jsxs("div",{className:"flex flex-col gap-y-5",children:[t&&(t==null?void 0:t.length)>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex w-full items-center justify-between gap-x-5 rounded-lg border border-gray-300 bg-white px-4 py-2 shadow-lg",children:[e.jsx("div",{className:"w-1/2",children:e.jsx("p",{children:"Trường"})}),e.jsx("div",{className:"flex w-1/2 flex-row-reverse",children:e.jsx("p",{children:"Hành động"})})]},"header"),t==null?void 0:t.map((x,m)=>e.jsxs("div",{className:"flex w-full items-center justify-between gap-x-5 rounded-lg border border-gray-300 bg-white px-4 py-2 shadow-lg",children:[e.jsx("div",{className:"w-1/2",children:e.jsx("input",{className:"rounded-lg border border-gray-300 py-1 pl-4",defaultValue:x,value:t==null?void 0:t[m],onChange:w=>{let p=t;p[m]=w.target.value,l([...p])}})}),e.jsx("div",{className:"flex w-1/2 flex-row-reverse items-center",children:e.jsx("button",{onClick:()=>{b(m)},children:e.jsx(M,{className:"h-4 w-4 font-bold text-gray-600"})})})]},m.toString()))]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{width:20,height:20}),e.jsx("p",{className:"ml-2",children:"Không có giá trị nào để hiển thị"})]}),e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(S,{onClick:f,children:e.jsx(D,{className:"h-6 w-6 text-gray-500"})})})]}),e.jsxs("div",{className:"mt-8 flex w-full justify-between",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx(C,{variant:"secondary",title:"Đóng",onClick:()=>r()}),e.jsx(C,{title:"Cập nhật",onClick:()=>u()})]})]})]})})},"property-dialog")},re=({onClose:r,open:c,onOpenCustomFields:a,onCreateCategory:g})=>{const[t,l]=n.useState([]),[f]=n.useState(!1),[u,b]=n.useState(""),x=T.useRef(null),m=p=>{let j=[...t];j.splice(p,1),l(j)},w=()=>{let p=[...t];p.push({displayName:"",name:"",type:"string",options:[]}),l(p)};return e.jsx(e.Fragment,{children:e.jsx(P,{onClose:r,open:c,className:"rounded-lg",maxWidth:"lg",fullWidth:!0,children:f?e.jsx(R,{className:"max-h-[800px]",children:e.jsx(I,{})}):e.jsx(R,{className:"max-h-[800px]",children:e.jsxs("div",{className:"flex flex-col gap-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"mb-2 text-2xl font-bold text-gray-600",children:"Thêm danh mục"}),e.jsx(O,{onClick:r,title:"Đóng",children:e.jsx($,{className:"h-8 w-8 cursor-pointer rounded-full p-1 hover:bg-gray-200"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-md mb-2 font-semibold text-gray-600",children:"Tên danh mục"}),e.jsx("input",{placeholder:"Nhập tên danh mục",title:"Tên danh mục",defaultValue:"",value:u,onChange:p=>b(p.target.value),className:"border-1 h-[40px] w-full rounded-lg bg-gray-100 px-4 py-1 text-gray-900 focus-within:border-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{className:"mt-4 flex flex-col",children:[e.jsx("p",{className:"text-md mb-2 font-semibold text-gray-600",children:"Các trường của danh mục"}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex w-full items-center justify-between gap-x-5 rounded-t-lg border border-gray-300 bg-white px-4 py-2 shadow-lg",children:[e.jsx("div",{className:"w-1/4",children:e.jsx("p",{className:"font-semibold text-gray-600",children:"Tên hiển thị"})}),e.jsx("div",{className:"w-1/4",children:e.jsx("p",{className:"font-semibold text-gray-600",children:"Tên trường"})}),e.jsx("div",{className:"w-1/4",children:e.jsx("p",{className:"font-semibold text-gray-600",children:"Kiểu dữ liệu"})}),e.jsx("div",{className:"w-1/4",children:e.jsx("p",{className:"font-semibold text-gray-600",children:"Hành động"})})]},"header"),e.jsxs(e.Fragment,{children:[(t==null?void 0:t.length)>0&&(t==null?void 0:t.map((p,j)=>e.jsx("div",{children:e.jsxs("div",{className:"flex w-full items-center justify-between gap-x-5 border-b border-l border-r border-gray-300 bg-white px-4 py-2",children:[e.jsx("div",{className:"w-1/4",children:e.jsx("input",{ref:x,value:t[j].displayName,className:"rounded-lg border border-gray-300 py-1 pl-4",onChange:h=>{const s=h.target.value;l(d=>d.map((i,o)=>o===j?{...i,displayName:s}:i))}})}),e.jsx("div",{className:"w-1/4",children:e.jsx("input",{ref:x,value:t[j].name,className:"rounded-lg border border-gray-300 py-1 pl-4",onChange:h=>{const s=h.target.value;l(d=>d.map((i,o)=>o===j?{...i,name:s}:i))}})}),e.jsx("div",{className:"w-1/4",children:e.jsx(W,{placeholder:"Chọn trường",name:"type",label:"",options:["string","number","boolean"],optionSelected:t==null?void 0:t[j].type,onSelect:h=>{let s=[...t];s[j].type=h,l([...s])}})}),e.jsx("div",{className:"flex w-1/4 items-center",children:e.jsx(S,{title:"Xem hoặc chỉnh sửa",onClick:()=>m(j),children:e.jsx(M,{className:"h-4 w-4 font-bold text-gray-600"})})})]})}))),e.jsx("button",{className:"flex w-full items-center justify-center gap-x-5 rounded-b-lg border-b border-l border-r border-gray-300 bg-white px-4 py-2",children:e.jsx(S,{onClick:()=>w(),children:e.jsx(D,{className:"h-6 w-6 font-bold text-gray-600"})})})]}),e.jsx("div",{className:"mt-8 flex w-full flex-row-reverse justify-between",children:e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx(C,{variant:"secondary",title:"Đóng",onClick:()=>r()}),e.jsx(C,{title:"Cập nhật",onClick:()=>{g({name:u,properties:t},()=>r())}})]})})]})]})]})})})})},ne=()=>{const[r,c]=n.useState([]),{listCategory:a}=z(h=>h.categories),[g,t]=n.useState(!1),[l,f]=n.useState(!1),{accessToken:u}=B(),b=V(),x=async h=>{var i,o,y,v,k;const{overrideCache:s=!1,addLoading:d=!1}=h||{};console.log("fetchcategories",s);try{if(d&&t(!0),a.length===0||s){const N=await E.get(`${F}/category`,{headers:{Authorization:`Bearer ${u}`}});(i=N==null?void 0:N.data)!=null&&i.success&&(b(A((y=(o=N==null?void 0:N.data)==null?void 0:o.data)==null?void 0:y.data)),c((k=(v=N==null?void 0:N.data)==null?void 0:v.data)==null?void 0:k.data))}}catch(N){console.error("Get product category error",N)}finally{d&&t(!1)}};return{listCategory:a,loading:g,actionLoading:l,fetchCategories:x,updateCurrentCategory:async(h,s)=>{var d;if(h.id!==null)try{const i=await E.put(`${F}/category/${h.id}`,h,{headers:{Authorization:`Bearer ${u}`}});(d=i==null?void 0:i.data)!=null&&d.success?(s(),L.success("Cập nhật danh mục thành công")):(s(),L.error("Cập nhật danh mục thất bại"),console.error("Update current category error"))}catch(i){console.error("Errors is",i)}},createNewCategory:async(h,s)=>{var d;try{const i=await E.post(`${F}/category/`,h,{headers:{Authorization:`Bearer ${u}`}});(d=i==null?void 0:i.data)!=null&&d.success?(s(),await x(),L.success("Tạo danh mục mới thành công")):(s(),await x(),L.error("Tạo danh mục mới thất bại"))}catch(i){console.error("Errors is",i)}},removeCategory:async h=>{var s,d,i;try{f(!0);const o=await E.delete(`${F}/category/${h}/`,{headers:{Authorization:`Bearer ${u}`}});(s=o==null?void 0:o.data)!=null&&s.success?(await x(),L.success("Xóa danh mục thành công")):console.error("Error",(d=o==null?void 0:o.data)==null?void 0:d.data,(i=o==null?void 0:o.data)==null?void 0:i.error)}catch(o){console.error("Client Error",o)}finally{f(!1)}},handleSearch:h=>{const s=r.filter(d=>d.name.toLowerCase().includes(h.toLowerCase()));b(A(s))}}},ue=()=>{const[r,c]=n.useState(!1),[a,g]=n.useState([]),[t,l]=n.useState(!1),{fetchCategories:f,listCategory:u,loading:b,handleSearch:x,updateCurrentCategory:m,createNewCategory:w,removeCategory:p,actionLoading:j}=ne();B(),n.useEffect(()=>{f({overrideCache:!1,addLoading:!0})},[]);const h=[{field:"actions",headerName:"Hành động",type:"string",width:100,renderCell:s=>{const d=[{id:"delete",title:"Xóa danh mục",onPress:()=>{var i;return p((i=s.row)==null?void 0:i.id)},onActionSuccess:()=>f()}];return e.jsx(Q,{options:d})}},{field:"id",headerName:"ID",width:70},{field:"name",headerName:"Tên danh mục",width:300,renderCell:s=>e.jsx("div",{className:"w-[100px]",children:e.jsx(de,{category:s.row,onUpdateItem:async(d,i)=>{await m(d,async()=>{i(),await f()})},onClose:async()=>await f()})})},{field:"properties",headerName:"Các trường",renderCell:s=>{var d,i,o,y;return e.jsx("div",{className:"w-[100px]",children:e.jsx("p",{children:(i=(d=s==null?void 0:s.row)==null?void 0:d.properties[0])!=null&&i.name?`${(y=(o=s==null?void 0:s.row)==null?void 0:o.properties[0])==null?void 0:y.name}...`:"Chưa có"})})},width:200}];return e.jsxs(e.Fragment,{children:[e.jsx(U,{title:"Quản lý các danh mục",content:e.jsxs("div",{className:"flex flex-col gap-y-5 rounded-2xl bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(q,{name:"search-user",label:"Tìm kiếm danh mục",mode:"text",className:"max-w-[400px] rounded-xl border border-gray-300 px-4 py-2 text-sm",placeholder:"Giày dép",autoComplete:"off",onChangeValue:s=>x(s)}),e.jsx(C,{title:"Tạo danh mục",onClick:()=>l(!0)})]}),e.jsx("div",{className:"h-[700px] w-full rounded-xl",children:e.jsx(G,{sx:{borderRadius:"8px"},components:{LoadingOverlay:K},loading:b,rows:u,columns:h,pageSize:10,disableSelectionOnClick:!0,rowsPerPageOptions:[10],onSelectionModelChange:s=>{c(!r),g(s)},selectionModel:a,checkboxSelection:!1})})]})}),t&&e.jsx(re,{onClose:()=>l(!1),onOpenCustomFields:()=>{},onCreateCategory:(s,d)=>w(s,d),open:t})]})},de=r=>{var x;const[c,a]=n.useState(!1),[g,t]=n.useState(!1),[l,f]=n.useState(null),{category:u}=r,b=m=>{t(!0),f(m)};return e.jsxs("div",{className:"",children:[e.jsx("button",{className:"flex-start w-[120px]",onClick:()=>a(!0),children:e.jsx("p",{className:"mr-10 text-left",children:(x=r.category)==null?void 0:x.name})}),c&&e.jsx(te,{category:u,open:c,onClose:()=>a(!1),onOpenCustomFields:b,onUpdateFields:(m,w)=>{r.onUpdateItem(m,w)}}),e.jsx(le,{open:g,onClose:()=>t(!1),onUpdateOptions:(m,w)=>{var j;let p=u==null?void 0:u.properties;(j=u==null?void 0:u.properties)==null||j.forEach((h,s)=>{(h==null?void 0:h.name)===(l==null?void 0:l.name)&&(p[s].options=m)}),r.onUpdateItem({...u,properties:[...p]},w),t(!1)},options:l==null?void 0:l.options})]})};export{ue as default};
