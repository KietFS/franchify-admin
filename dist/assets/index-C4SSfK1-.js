import{b as c,j as t,M as j,C as N,t as h,v as g}from"./index-Bpu-ZP8V.js";import{F as S,B as n}from"./index-BwNXfVh5.js";import{c as L,a as s}from"./object-B-5gPB25.js";import{R as U,U as w}from"./index-BZImyS4q.js";import{B as d}from"./index-B5psXmxu.js";import"./PhoneIcon-BpksOs-8.js";const k=()=>{const[i,x]=c.useState({name:"",email:"",companyPhoneNumber:"",companyLegalName:""}),[r,m]=c.useState(null),[y,o]=c.useState(!1),f=L().shape({name:s().required("Vui lòng nhập tên thương hiệu"),email:s().email("Vui lòng nhập đúng định dạng email"),companyPhoneNumber:s().required("Vui lòng nhập số điện thoại công ty"),companyLegalName:s().required("Vui lòng nhập tên pháp lý công ty")}),p=async()=>{var l,e;try{o(!0);const a=await h.get(`${g}/tenant/config`);(l=a==null?void 0:a.data)!=null&&l.success&&(o(!1),x((e=a.data)==null?void 0:e.data))}catch(a){console.log(a),o(!1)}finally{o(!1)}},u=async l=>{var e;try{const a=await h.put(`${g}/tenant/config`,{...l,logoUrl:r});(e=a==null?void 0:a.data)!=null&&e.success&&(console.log("Update tenant config success"),await p())}catch(a){console.log(a)}};return c.useEffect(()=>{p()},[]),c.useEffect(()=>{m(i==null?void 0:i.logoUrl)},[i]),t.jsx(j,{title:"Quản lý thương hiệu",content:t.jsx(t.Fragment,{children:y?t.jsx("div",{className:"flex h-full min-h-[300px] w-full items-center justify-center",children:t.jsx(N,{size:50,sx:{color:"black"}})}):t.jsx(S,{initialValues:i||{},validationSchema:f,onSubmit:u,enableReinitialize:!0,children:({submitForm:l,values:e,handleSubmit:a,setValues:C,setFieldValue:M})=>t.jsxs("div",{className:"flex flex-col space-y-10 px-10",children:[t.jsxs("div",{className:"flex flex-col space-y-5",children:[t.jsxs("div",{className:"grid grid-cols-1 items-center justify-between gap-x-8 gap-y-5 tablet:grid-cols-2",children:[t.jsx(n,{type:"text",name:"name",value:e==null?void 0:e.name,label:"Tên thương hiệu",placeholder:"Nhập tên thương hiệu"}),t.jsx(n,{type:"text",name:"email",value:e==null?void 0:e.email,label:"Email công ty",placeholder:"Nhập email của công ty"})]}),t.jsxs("div",{className:"grid grid-cols-1 items-center justify-between gap-x-8 gap-y-5 tablet:grid-cols-2",children:[t.jsx(n,{mode:"text",name:"companyLegalName",value:e==null?void 0:e.companyLegalName,label:"Tên pháp lý công ty",placeholder:""}),t.jsx(n,{type:"phoneNumber",name:"companyPhoneNumber",value:e==null?void 0:e.companyPhoneNumber,label:"Số điện thoại công ty",placeholder:"Nhập số điện thoại công ty"}),t.jsx(n,{type:"text",name:"slogan",value:e==null?void 0:e.slogan,label:"Slogan",placeholder:"Nhập slogan của công ty"}),t.jsx(n,{type:"text",name:"primaryColorScheme",value:e==null?void 0:e.primaryColorScheme,label:"Màu chủ đạo",placeholder:"Màu chủ đạo"})]}),t.jsx(U,{name:"fullDescription",value:e==null?void 0:e.fullDescription,label:"Mô tả đày đủ của công ty",placeholder:"Mô tả đầy đủ của công ty"}),t.jsx(w,{thumbnailUploaded:r,setThumbnailUploaded:b=>m(b)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(d,{variant:"secondary",onClick:()=>{},title:"Hủy bỏ"}),t.jsx(d,{type:"submit",title:"Xác nhận",variant:"primary",className:"ml-2",isLoading:!1,onClick:a})]})]})]})})})})};export{k as default};
